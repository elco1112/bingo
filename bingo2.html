<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bingo2</title>

    <style>
        
        h1{  
            text-align: center;
            color: orangered;
        }
        #bingo{ 
            display: grid; 
            grid-template-columns: repeat(5, 100px); /* repeatì¤‘ìš” */
            gap: 6px;
            margin: 50px auto;
            width: max-content;
        }
        #bingo button{
            width: 100px; height: 100px;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }

        .checked{background-color: greenyellow;}
        .bingo-line{background-color: violet;}

        #result{
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>âœ¨Bingo Gameâœ¨</h1>
    <div id="bingo"></div>
    <div id="result"></div>

    <script>
        let bingo = document.getElementById("bingo");           // 25ì¹¸ì„ ë„£ì„ ê³µê°„ ë³€ìˆ˜ìƒì„±í•´ì„œ ê°€ì ¸ì˜¤ê¸°
        let result = document.getElementById("result");         // ë¹™ê³ ì™„ì„± íšŸìˆ˜ ì¹´ìš´íŠ¸ ë° ì™„ì„± í…ìŠ¤íŠ¸ ë‚˜ì˜¤ê²Œ í•  ê³µê°„ ë³€ìˆ˜ì§€ì •
        let buttons = [];                                       // ë°°ì—´ìƒì„±
        game();                                                 // ê²Œì„ì‹¤í–‰

        function game(){                                        // ê²Œì„ì‹¤í–‰í•¨ìˆ˜
            let nums = Array.from({length: 25},(_,i) => i+1);   // ê¸¸ì´ê°€ 25ê°œì¸ ê°ì²´ ìƒì„±
            shuffle(nums);                                      // 25ê°œ ì¹¸ì— ë“¤ì–´ê°ˆ ìˆ«ìë¥¼ ì„ì–´ì£¼ëŠ” ë³€ìˆ˜

            for(let i=0; i<25; i++){                            // 25ê°œì˜ ë²„íŠ¼ ë§Œë“¤ê¸°
                let btn = document.createElement("button");     
                btn.textContent = nums[i];                      // ë²„íŠ¼ì— ë“¤ì–´ê°ˆ ìˆ«ì ì¶œë ¥
                bingo.appendChild(btn);                         // 25ì¹¸ì„ ë„£ì„ ê³µê°„ ì•ˆì— ë²„íŠ¼ ë„£ê¸°

                let row = Math.floor(i/5);                      // iê°€ 0~4ì¼ë•Œ 0ë²ˆì§¸ì¤„,1ë²ˆì§¸ì¤„ ~ 4ë²ˆì§¸ ë§ˆì§€ë§‰ì¤„ ê¹Œì§€ 5ê°œ í–‰ ìƒì„±
                if(!buttons[row]) buttons[row] = [];            // í–‰ì´ ì—†ë‹¤ë©´ í–‰ì„ ë¨¼ì € ë§Œë“¤ì–´ë¼
                buttons[row].push(btn);                         // ë°©ê¸ˆ ë§Œë“  btnì„ ë°°ì—´ì— ë„£ê¸°

                btn.addEventListener("click", () => {           // ë²„íŠ¼í´ë¦­ì‹œ
                    btn.classList.toggle("checked");            // í† ê¸€ë¡œ ì‹¤í–‰í•˜ê³  checkedë¥¼ ê°€ì ¸ì˜´
                    checkBingo();                               // ë¹™ê³ ì²´í¬í™•ì¸ í•¨ìˆ˜
                });
            }
        }

        function shuffle(arr){                                  // ìˆ«ìë¥¼ ëœë¤ìœ¼ë¡œ ì„ëŠ” í•¨ìˆ˜ ì‹¤í–‰(êµ¬ì¡°ë¶„í•´í• ë‹¹)
            for(let i=arr.length-1; i>0; i--){                  // ë°°ì—´ì˜ ê°€ì¥ ë§ˆì§€ë§‰ ë¶€ë¶„ ë¶€í„° iê°€ 0ë³´ë‹¤ í´ ë•Œ ê¹Œì§€ ì‹¤í–‰í•˜ê³ , í•œë°”í€´ ëŒ ë•Œ ë§ˆë‹¤ ië¥¼ 1ì”© ì¤„ì—¬ë¼
                let j = Math.ceil(Math.random()*i);             // ìœ„ì¹˜ê°’ 1~25ì¤‘ ëœë¤ìœ¼ë¡œ í•˜ë‚˜ì„ íƒ
                [arr[i],arr[j]] = [arr[j],arr[i]];              // ì„œë¡œ ë°”ê¿”ì¤„ ìœ„ì¹˜ê°’
            }
        }

        function checkBingo(){                                                      // ë°©ê³ ê°€ ë§ëŠ”ì§€ í™•ì¸
            let bingoCount = 0;                                                     // ë¹™ê³ íšŸìˆ˜ ì´ˆê°€ê°’ ì§€ì •
            buttons.flat().forEach(item => item.classList.remove("bingo-line"));    // ë°°ì—´ì„ flatìœ¼ë¡œ í’€ì–´ì£¼ê³  ì²´í¬ë¥¼ í† ê¸€ë¡œ í’€ì—ˆì„ ë•Œ íšŸìˆ˜ ëŒì•„ê°€ê³  ìƒ‰ìƒë³€ê²½

            for(let r=0; r<5; r++){                                                 // ê°€ë¡œë¹™ê³ ê²€ì‚¬, 0~4ê¹Œì§€ 5ë²ˆë°˜ë³µ
                if(buttons[r].every(b => b.classList.contains("checked"))){         // rë²ˆì§¸ ì¤„ì— ìˆëŠ” ë²„íŠ¼ 5ê°œê°€ ì „ë¶€ checkedë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ ë¹™ê³ ë¼ì¸ í´ë˜ìŠ¤ ì†ì„± ì¶”ê°€
                bingoCount++;                                                       // ë§ë‹¤ë©´ íšŸìˆ˜ ì¦ê°€
                buttons[r].forEach(b => b.classList.add("bingo-line"));
                }
            }

            for(let c=0; c<5; c++){
                let col = [];                                                       // ë°°ì—´ìƒì„±
                for(let r=0; r<5; r++){
                    col.push(buttons[r][c]);                                        // ë³€ìˆ˜r ë³€ìˆ˜c ë¹ˆë°°ì—´ì— ë²„íŠ¼rcë°°ì—´ ì¶”ê°€
                }
                if(col.every(b => b.classList.contains("checked"))){
                    bingoCount++;
                    col.forEach(b => b.classList.add("bingo-line"));
                }
            }

            let d1 = [], d2 = [];                                                   // ë°°ì—´ìƒì„± 2ê°œ
            for(let i=0; i<5; i++){
                d1.push(buttons[i][[i]]);                                           // ë³€ìˆ˜d1 d2 ë¹ˆë°°ì—´ì— ë²„íŠ¼i/i ì¶”ê°€ ë²„íŠ¼i/4-i ì¶”ê°€
                d2.push(buttons[i][4-i]);
            }
            if(d1.every(b => b.classList.contains("checked"))){
                bingoCount++;
                d1.forEach(b => b.classList.add("bingo-line"));
            }
            if(d2.every(b => b.classList.contains("checked"))){
                bingoCount++;
                d2.forEach(b => b.classList.add("bingo-line"));
            }
            result.textContent = `í˜„ì¬ ë¹™ê³  : ${bingoCount} ì¤„`;
            if(bingoCount >= 5){
                result.textContent = "âœ¨ë¹™ê³  ì™„ì„±ğŸ‰";
            }
        }
    </script>
</body>
</html>